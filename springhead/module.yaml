kind: io.statefun.endpoints.v2/http
spec:
  functions: springhead/*
  urlPathTemplate: http://springhead/statefun
  transport:
    type: io.statefun.transports.v1/async
---
kind: io.statefun.kafka.v1/ingress
spec:
  id: springhead/greeter
  address: redpanda:29092
  consumerGroupId: springhead-group
  topics:
    - topic: message-topic
      valueType: io.statefun.types/string
      targets:
        - springhead/greeter
# ingresses:
      # - ingress:
      #     meta:
      #       type: statefun.kafka.io/ingress
      #       id: example/names
      #     spec:
      #       address: kafka-broker:9092
      #       consumerGroupId: my-group-id
      #       topics:
      #         - topic: names
      #           valueType: io.statefun.types/string
      #           targets:
      #             - example/greeter
---
kind: io.statefun.kafka.v1/egress
spec:
  id: com.example/my-egress
  address: redpanda:29092
  topics:
    - cluster
  deliverySemantic:
    type: exactly-once
    transactionTimeout: 15min
